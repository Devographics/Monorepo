---
import T from './T'
import LanguageSwitcher from './LanguageSwitcher.astro'

const { survey, locale, locales } = Astro.props

const getLinks = (survey) => [
    {
        link: 'https://www.devographics.com',
        k: 'general.made_by_devographics'
    },
    {
        link: 'https://www.netlify.com',
        k: 'general.netlify_link'
    },
    {
        link: 'https://github.com/StateOfJS/Monorepo/issues',
        k: 'general.leave_issue'
    },
    {
        link: 'https://discord.gg/zRDb35jfrt',
        k: 'general.join_discord'
    }
]
---

<footer>
    <LanguageSwitcher client:load canonicalUrl={Astro.canonicalURL} locale={locale} locales={locales} survey={survey} />
    {getLinks(survey).map(({ link, k }) => (
    <span>
        <T locale={locale} k={k} values={{ link }} html={true} />
    </span>
    ))}
</footer>

<style lang="scss">
    footer {
        text-align: center;
        margin-bottom: var(--doublespacing);
    }

    span {
        display: inline-flex;
        margin: 0 var(--halfspacing);
    }
</style>