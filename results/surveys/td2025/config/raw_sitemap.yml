- id: introduction
  path: /
  showTitle: false
  blocks:
      - id: survey_intro
        blockType: SurveyIntroBlock
        disableExport: true
        wrapBlock: false

      - id: takeaways
        blockType: TakeawaysBlock
        disableExport: true
        wrapBlock: false
        items:
            - median_compensation_2025
            - gender_2025
            - language_2025
            - employer_2025
            - gaming_2025
            - hours_per_week_2025
            - remote_work_2025
            - training_2025
            - satisfaction_2025
            - favourite_thing_about_japan_2025

      - id: survey_newsletter
        blockType: NewsletterBlock
        disableExport: true
        wrapBlock: false

- id: user_info
  titleId: sections.demographics.title
  path: /demographics
  blocks:
      - template: page_introduction

      - id: japan_province
        template: tokyodev_multiple_options2
        defaultUnits: percentageQuestion
        parameters:
            cutoff: 10
            enableAddMissingBuckets: false
            showNoAnswer: true
            sort: { property: count }
        variants:
            - template: tokyodev_vs_salary
              parameters:
                  cutoff: 10
            - template: tokyodev_vs_employer_type
              parameters:
                  cutoff: 10

      - id: residency_status
        template: tokyodev_multiple_options2_combined
        defaultUnits: percentageQuestion
        blockType: HorizontalBarBlock2
        parameters: { showNoAnswer: true, sort: { property: count } }
        variants:
            - template: tokyodev_vs_salary
            - template: tokyodev_vs_employer_type

      - id: country
        template: tokyodev_multiple_options2
        defaultUnits: percentageQuestion
        parameters: { cutoff: 10, limit: 0, showNoAnswer: true, enableAddMissingBuckets: false }
        variants:
            - template: tokyodev_vs_salary
              parameters:
                  cutoff: 10
            - template: tokyodev_vs_employer_type
              parameters:
                  cutoff: 10

      - id: age
        template: tokyodev_multiple_options2
        defaultUnits: percentageQuestion
        variants:
            - template: tokyodev_vs_salary
              parameters:
                  sort: { property: options }
            - template: tokyodev_vs_employer_type
              parameters:
                  sort: { property: options }

      - id: relationship_status
        template: tokyodev_multiple_options2
        variants:
            - template: tokyodev_vs_salary
            - template: tokyodev_vs_employer_type

      - id: number_of_kids
        template: tokyodev_multiple_options2
        variants:
            - template: tokyodev_vs_salary
            - template: tokyodev_vs_employer_type
            - id: number_of_kids_married
              template: tokyodev_variant_base
              tabId: tabs.by_relationship_status
              filtersState:
                  filters:
                      - conditions:
                            - fieldId: relationship_status
                              sectionId: user_info
                              operator: nin
                              value: [married]
                      - conditions:
                            - fieldId: relationship_status
                              sectionId: user_info
                              operator: in
                              value: [married]

      - id: gender
        template: tokyodev_multiple_options2
        defaultUnits: percentageQuestion
        variants:
            - template: tokyodev_vs_salary
            - template: tokyodev_vs_employer_type
            - template: tokyodev_variant_base
              id: gender_by_experience
              tabId: tabs.by_experience
              filtersState:
                  facet:
                      sectionId: user_info
                      id: years_of_experience
            - template: tokyodev_variant_base
              id: gender_by_compensation_by_experience
              tabId: tabs.by_compensation_by_experience
              filtersState:
                  filters:
                      - conditions:
                            - fieldId: years_of_experience
                              sectionId: user_info
                              operator: in
                              value:
                                  - range_under_1
                                  - range_1_3
                      - conditions:
                            - fieldId: years_of_experience
                              sectionId: user_info
                              operator: in
                              value:
                                  - range_4_6
                      - conditions:
                            - fieldId: years_of_experience
                              sectionId: user_info
                              operator: in
                              value:
                                  - range_7_9
                      - conditions:
                            - fieldId: years_of_experience
                              sectionId: user_info
                              operator: in
                              value:
                                  - range_10_12
                                  - range_13_15
                                  - range_16_20
                                  - range_over_20
                  facet:
                      sectionId: compensation
                      id: current_total_annual_compensation

      - id: years_of_experience
        titleId: user_info.years_of_experience
        questionKey: user_info.years_of_experience.question
        template: tokyodev_multiple_options2
        defaultUnits: percentageQuestion
        variants:
            - template: tokyodev_vs_salary
              parameters:
                  sort: { property: options }
            - template: tokyodev_vs_employer_type
              parameters:
                  sort: { property: options }

      - id: years_in_japan
        template: tokyodev_multiple_options2
        defaultUnits: percentageQuestion
        titleId: user_info.years_in_japan
        questionKey: user_info.years_in_japan.question
        variants:
            - template: tokyodev_vs_salary
              parameters:
                  sort: { property: options }
            - template: tokyodev_vs_employer_type
              parameters:
                  sort: { property: options }
            - template: tokyodev_variant_base
              id: years_in_japan_by_country
              tabId: tabs.by_country
              parameters:
                  limit: 20
              filtersState:
                  facet:
                      sectionId: user_info
                      id: country

      - id: professional_qualifications
        template: tokyodev_multiple_options2_combined
        defaultUnits: percentageQuestion
        variants:
            - template: tokyodev_vs_salary
            - template: tokyodev_vs_employer_type

      - id: language_proficiency_english
        template: tokyodev_multiple_options2
        defaultUnits: percentageQuestion
        parameters: { showNoAnswer: true, sort: { property: options } }
        variants:
            - template: tokyodev_vs_salary
              parameters:
                  sort: { property: options }
            - template: tokyodev_vs_employer_type
              parameters:
                  sort: { property: options }

      - id: language_proficiency_japanese
        template: tokyodev_multiple_options2
        defaultUnits: percentageQuestion
        parameters: { showNoAnswer: true, sort: { property: options } }
        variants:
            - template: tokyodev_vs_salary
              parameters:
                  sort: { property: options }
            - template: tokyodev_vs_employer_type
              parameters:
                  sort: { property: options }
            - id: language_proficiency_japanese_by_years_in_japan
              template: tokyodev_variant_base
              tabId: tabs.by_years_in_japan
              filtersState:
                  facet:
                      sectionId: user_info
                      id: years_in_japan

- id: job_info
  titleId: sections.current_job.title
  path: /current-job
  blocks:
      - id: employment_status
        template: tokyodev_multiple_options2_combined
        defaultUnits: percentageQuestion
        parameters: { showNoAnswer: true, sort: { property: count } }
        variants:
            - template: tokyodev_vs_salary
            - template: tokyodev_vs_employer_type
            - id: employment_status_vs_english_ability
              template: tokyodev_variant_base
              tabId: tabs.by_english_ability
              filtersState:
                  facet:
                      sectionId: user_info
                      id: language_proficiency_english

      - id: job_title
        template: tokyodev_multiple_options2_combined
        defaultUnits: percentageQuestion
        parameters: { showNoAnswer: true, sort: { property: count } }
        variants:
            - template: tokyodev_vs_salary
            - template: tokyodev_vs_employer_type

      - id: current_employer
        template: tokyodev_multiple_options2_combined
        defaultUnits: percentageQuestion
        variants:
            - template: tokyodev_vs_salary
            - template: tokyodev_variant_base
              id: current_employer_by_residency_status
              tabId: tabs.by_residency_status
              filtersState:
                  facet:
                      sectionId: user_info
                      id: residency_status

      - id: languages_used_colleagues_english
        template: tokyodev_multiple_options2
        defaultUnits: percentageQuestion
        variants:
            - template: tokyodev_vs_salary
              parameters:
                  sort: { property: options }
            - template: tokyodev_vs_employer_type
              parameters:
                  sort: { property: options }
            # - template: tokyodev_vs_current_employer

      - id: languages_used_colleagues_japanese
        template: tokyodev_multiple_options2
        defaultUnits: percentageQuestion
        variants:
            - template: tokyodev_vs_salary
              parameters:
                  sort: { property: options }
            - template: tokyodev_vs_employer_type
              parameters:
                  sort: { property: options }
            # - template: tokyodev_vs_current_employer

      - id: work_hours_per_week
        template: tokyodev_multiple_options2
        variants:
            - template: tokyodev_vs_salary
              parameters:
                  sort: { property: options }
            - template: tokyodev_vs_employer_type
              parameters:
                  sort: { property: options }
            - id: work_hours_per_week_vs_job_search_status
              template: tokyodev_variant_base
              tabId: tabs.by_job_search_status
              parameters:
                  sort: { property: options }
              filtersState:
                  facet:
                      sectionId: job_info
                      id: searching_for_job

      - id: regular_work_location
        template: tokyodev_multiple_options2
        variants:
            - template: tokyodev_vs_salary
              parameters:
                  sort: { property: options }
            - template: tokyodev_vs_employer_type
              parameters:
                  sort: { property: options }
            - id: regular_work_location_remote_work_policy_up_to_employee
              tabId: tabs.remote_work_policy
              template: tokyodev_variant_base
              filtersState:
                  filters:
                      - year: 2025
                        conditions:
                            - fieldId: remote_work_policy
                              sectionId: job_info
                              operator: in
                              value:
                                  - up_to_employee

      - id: searching_for_job
        template: tokyodev_multiple_options2
        defaultUnits: percentageQuestion
        variants:
            - template: tokyodev_vs_salary
            - template: tokyodev_vs_employer_type
            - id: most_important_benefit_by_remote_work_policy
              template: tokyodev_variant_base
              tabId: tabs.by_remote_work_policy
              filtersState:
                  filters:
                      - conditions:
                            - fieldId: remote_work_policy
                              sectionId: job_info
                              operator: eq
                              value: no_remote_work
                      - conditions:
                            - fieldId: remote_work_policy
                              sectionId: job_info
                              operator: eq
                              value: hybrid
                      - conditions:
                            - fieldId: remote_work_policy
                              sectionId: job_info
                              operator: eq
                              value: up_to_employee
                      - conditions:
                            - fieldId: remote_work_policy
                              sectionId: job_info
                              operator: eq
                              value: fully_remote
            - id: searching_for_job_vs_years_of_experience
              template: tokyodev_variant_base
              tabId: tabs.by_years_of_experience
              filtersState:
                  facet:
                      sectionId: user_info
                      id: years_of_experience

      - id: discrimination_issues
        template: tokyodev_multiple_options2_combined
        variants:
            - template: tokyodev_vs_salary
            - template: tokyodev_vs_employer_type
            - id: discrimination_issues_by_gender
              template: tokyodev_variant_base
              tabId: tabs.by_gender
              filtersState:
                  filters:
                      - conditions:
                            - fieldId: gender
                              sectionId: user_info
                              operator: eq
                              value: woman
                      - conditions:
                            - fieldId: gender
                              sectionId: user_info
                              operator: eq
                              value: man

      - id: job_happiness
        template: tokyodev_multiple_options2_combined
        variants:
            - template: tokyodev_vs_salary
              parameters:
                  sort: { property: options }
            - template: tokyodev_vs_employer_type
              parameters:
                  sort: { property: options }
            - id: job_happiness_vs_job_search_status
              template: tokyodev_variant_base
              tabId: tabs.by_job_search_status
              filtersState:
                  facet:
                      sectionId: job_info
                      id: searching_for_job

      - id: industry_sector
        template: tokyodev_multiple_options2_combined
        defaultUnits: percentageQuestion
        parameters: { showNoAnswer: true, cutoff: 10 }
        variants:
            - template: tokyodev_vs_salary
              parameters:
                  limit: 20
            - template: tokyodev_vs_employer_type
              parameters:
                  limit: 20
            - template: tokyodev_variant_base
              id: industry_sector_by_japanese_usage
              tabId: tabs.by_japanese_usage
              parameters:
                  limit: 20
              filtersState:
                  facet:
                      sectionId: job_info
                      id: languages_used_colleagues_japanese

      - id: meeting_hours_per_week
        template: tokyodev_multiple_options2
        variants:
            - template: tokyodev_vs_salary
            - template: tokyodev_vs_employer_type

      - id: remote_work_policy
        template: tokyodev_multiple_options2
        defaultUnits: percentageQuestion
        queryOptions: { sectionId: job_info }
        variants:
            - template: tokyodev_vs_salary
              queryOptions: { sectionId: job_info }
              parameters:
                  sort: { property: options }
            - template: tokyodev_vs_employer_type
              queryOptions: { sectionId: job_info }
              parameters:
                  sort: { property: options }
            - template: tokyodev_variant_base
              queryOptions: { sectionId: job_info }
              id: remote_work_policy_by_years_of_experience
              tabId: tabs.by_years_of_experience
              filtersState:
                  facet:
                      sectionId: user_info
                      id: years_of_experience

            - template: tokyodev_variant_base
              queryOptions: { sectionId: job_info }
              id: remote_work_policy_by_professional_life_satisfaction
              tabId: tabs.by_professional_life_satisfaction
              filtersState:
                  facet:
                      sectionId: other
                      id: life_in_japan__professional_life

      - id: company_size
        template: tokyodev_multiple_options2
        defaultUnits: percentageQuestion
        variants:
            - template: tokyodev_vs_salary
              parameters:
                  sort: { property: options }
            - template: tokyodev_vs_employer_type
              parameters:
                  sort: { property: options }
            - template: tokyodev_vs_current_employer
            - template: tokyodev_variant_base
              id: company_size_high_salaries
              tabId: tabs.high_salaries
              filtersState:
                  filters:
                      - conditions:
                            - fieldId: current_total_annual_compensation
                              sectionId: compensation
                              operator: in
                              value:
                                  - range_20000000_to_29999999
                                  - range_30000000_to_49999999
                                  - range_over_50000000

      - id: current_total_annual_compensation
        template: tokyodev_multiple_options2
        defaultUnits: percentageQuestion
        titleId: compensation.current_total_annual_compensation
        questionKey: compensation.current_total_annual_compensation.question

      - id: income_evolution
        template: tokyodev_multiple_options2
        variants:
            - template: tokyodev_vs_salary
            - template: tokyodev_vs_employer_type

- id: technology
  path: /technology
  blocks:
      - id: programming_languages
        template: tokyodev_multiple_options2_combined
        defaultUnits: percentageQuestion
        parameters: { cutoff: 10 }
        queryOptions:
            addBucketsEntities: true
        variants:
            - template: tokyodev_vs_salary
              queryOptions:
                  addBucketsEntities: true
            - template: tokyodev_vs_employer_type
              queryOptions:
                  addBucketsEntities: true
            - template: tokyodev_variant_base
              queryOptions:
                  addBucketsEntities: true
              id: programming_languages_by_current_employer
              tabId: tabs.by_current_employer
              filtersState:
                  filters:
                      - conditions:
                            - fieldId: current_employer
                              sectionId: job_info
                              operator: eq
                              value: japanese_company
                      - conditions:
                            - fieldId: current_employer
                              sectionId: job_info
                              operator: eq
                              value: japanese_subsidiary
            # - template: tokyodev_variant_base
            #   queryOptions:
            #       addBucketsEntities: true
            #   id: programming_languages_by_company_size
            #   parameters:
            #       showNoAnswer: true
            #       sort: { property: medianByFacet }
            #   tabId: tabs.by_company_size
            #   filtersState:
            #       facet:
            #           sectionId: job_info
            #           id: company_size

      - id: web_frameworks
        noteId: technology.web_frameworks.note.td2025
        template: tokyodev_multiple_options2_combined
        defaultUnits: percentageQuestion
        parameters: { cutoff: 10 }
        queryOptions:
            addBucketsEntities: true
        variants:
            - template: tokyodev_vs_salary
              queryOptions:
                  addBucketsEntities: true
            - template: tokyodev_vs_employer_type
              queryOptions:
                  addBucketsEntities: true
            - template: tokyodev_variant_base
              id: web_frameworks_by_current_job_description
              tabId: tabs.frontend_vs_backend
              queryOptions:
                  addBucketsEntities: true
              filtersState:
                  filters:
                      - conditions:
                            - fieldId: current_job_description
                              sectionId: job_info
                              operator: in
                              value:
                                  - developer_front_end
                      - conditions:
                            - fieldId: current_job_description
                              sectionId: job_info
                              operator: eq
                              value: developer_back_end

      - id: other_frameworks_libraries
        noteId: technology.other_frameworks_libraries.note.td2025
        template: tokyodev_multiple_options2_combined
        defaultUnits: percentageQuestion
        parameters: { cutoff: 10 }
        queryOptions:
            addBucketsEntities: true
        variants:
            - template: tokyodev_vs_salary
              queryOptions:
                  addBucketsEntities: true
            - template: tokyodev_vs_employer_type
              queryOptions:
                  addBucketsEntities: true
            - template: tokyodev_variant_base
              queryOptions:
                  addBucketsEntities: true
              id: other_frameworks_libraries_by_data_scientist_or_machine_learning
              tabId: tabs.data_science
              filtersState:
                  filters:
                      - conditions:
                            - fieldId: current_job_description
                              sectionId: job_info
                              operator: eq
                              value: data_scientist_or_machine_learning

      - id: cloud_platforms
        noteId: technology.cloud_platforms.note.td2025
        template: tokyodev_multiple_options2_combined
        defaultUnits: percentageQuestion
        parameters: { cutoff: 10 }
        queryOptions:
            addBucketsEntities: true
        variants:
            - template: tokyodev_vs_salary
              queryOptions:
                  addBucketsEntities: true
            - template: tokyodev_vs_employer_type
              queryOptions:
                  addBucketsEntities: true

      - id: software_engineering_practices
        template: tokyodev_multiple_options2_combined
        variants:
            - template: tokyodev_vs_salary
            - template: tokyodev_vs_employer_type

      - id: social_media
        template: tokyodev_multiple_options2_combined
        variants:
            - template: tokyodev_vs_salary
            - template: tokyodev_vs_employer_type

- id: ai_usage
  path: /ai-usage
  blocks:
      - id: ai_tools
        template: tokyodev_multiple_options2_combined
        variants:
            - template: tokyodev_vs_salary
            - template: tokyodev_vs_employer_type

      - id: ai_uses
        template: tokyodev_multiple_options2_combined
        variants:
            - template: tokyodev_vs_salary
            - template: tokyodev_vs_employer_type

      - id: ai_generated_code_balance
        template: tokyodev_multiple_options2_combined
        parameters:
            cutoff: 1
        variants:
            - template: tokyodev_vs_salary
              parameters:
                  cutoff: 1
                  sort: { property: options }
            - template: tokyodev_vs_employer_type

      - id: ai_code_generation_frequency
        template: tokyodev_multiple_options2_combined
        variants:
            - template: tokyodev_vs_salary
            - template: tokyodev_vs_employer_type
            - id: ai_code_generation_frequency_by_years_of_experience
              tabId: tabs.by_experience
              template: tokyodev_variant_base
              filtersState:
                  facet:
                      sectionId: user_info
                      id: years_of_experience

      - id: ai_pain_points
        template: tokyodev_multiple_options2_combined
        variants:
            - template: tokyodev_vs_salary
            - template: tokyodev_vs_employer_type

      - id: more_productive
        template: opinion2
        variants:
            - template: tokyodev_vs_salary
            - template: tokyodev_vs_employer_type

      - id: job_security_threat
        template: opinion2
        variants:
            - template: tokyodev_vs_salary
            - template: tokyodev_vs_employer_type

- id: life_in_japan
  path: /life-in-japan
  blocks:
      - id: friend_group_balance
        template: tokyodev_multiple_options2_combined
        variants:
            - template: tokyodev_vs_salary
            - template: tokyodev_vs_employer_type

      - id: initial_attraction
        template: tokyodev_multiple_options2_combined
        variants:
            - template: tokyodev_vs_salary
            - template: tokyodev_vs_employer_type
            - id: initial_attraction_usa_vs_india
              tabId: tabs.usa_vs_india
              template: tokyodev_variant_base
              filtersState:
                  filters:
                      - year: 2025
                        conditions:
                            - fieldId: country
                              sectionId: user_info
                              operator: eq
                              value: USA
                      - year: 2025
                        conditions:
                            - fieldId: country
                              sectionId: user_info
                              operator: eq
                              value: IND

      - id: hobbies
        template: tokyodev_multiple_options2_combined
        variants:
            - template: tokyodev_vs_salary
            - template: tokyodev_vs_employer_type

      - id: life_japan_positive_aspects
        template: tokyodev_multiple_options2_combined
        variants:
            - template: tokyodev_vs_salary
            - template: tokyodev_vs_employer_type

      - id: life_japan_negative_aspects
        template: tokyodev_multiple_options2_combined
        variants:
            - template: tokyodev_vs_salary
            - template: tokyodev_vs_employer_type

      - id: communities
        template: tokyodev_multiple_options2_combined
        variants:
            - template: tokyodev_vs_salary
            - template: tokyodev_vs_employer_type

- id: _user_metadata
  i18nNamespace: user_metadata
  path: /metadata
  blocks:
      - template: page_introduction

      - id: locale
        template: multiple_options2
        defaultView: percentageSurvey
        parameters: { cutoff: 20 }
        queryOptions:
            addQuestionComments: false

      - id: completion_stats
        template: multiple_options2
        defaultView: percentageSurvey
        queryOptions:
            addQuestionComments: false

      - id: authmode
        template: multiple_options2
        defaultView: percentageSurvey
        queryOptions:
            addQuestionComments: false

      - id: device
        template: multiple_options2
        defaultView: percentageSurvey
        queryOptions:
            addQuestionComments: false

      - id: browser
        template: multiple_options2
        defaultView: percentageSurvey
        queryOptions:
            addQuestionComments: false

      # - id: version
      #   template: multiple_options2
      #   queryOptions:
      #       addQuestionComments: false

      - id: os
        template: multiple_options2
        defaultView: percentageSurvey
        queryOptions:
            addQuestionComments: false

      - id: past_same_survey_count
        template: multiple_options2
        defaultView: percentageSurvey
        queryOptions:
            addQuestionComments: false
        parameters:
            showNoAnswer: true

      - id: created_at_date
        template: multiple_options2
        blockType: TimeSeriesByDateBlock
        defaultView: countBar
        parameters:
            showNoAnswer: false
            cutoff: 10
            sort: { order: asc, property: id }
        queryOptions:
            addQuestionComments: false
        variants:
            - id: created_at_date_by_source
              fieldId: created_at_date
              template: multiple_options2
              blockType: TimeSeriesByDateBlock
              defaultView: count
              parameters:
                  showNoAnswer: false
                  cutoff: 10
                  sort: { order: asc, property: id }
                  facetLimit: 3
                  enableAddOverallBucket: false
                  mergeOtherBuckets: true
              queryOptions:
                  addBucketsEntities: true
                  addQuestionComments: false
              filtersState:
                  facet:
                      sectionId: _user_metadata
                      id: source

      - id: source
        template: multiple_options2_freeform
        defaultView: percentageSurvey
        parameters:
            limit: 20
        queryOptions:
            addQuestionComments: false
        # variants:
        #     - id: source_outreach
        #       fieldId: source
        #       tabId: tabs.outreach
        #       template: multiple_options2_freeform
        #       parameters:
        #           limit: 20
        #           cutoff: 1
        #       queryOptions:
        #           addQuestionComments: false
        #       filtersState:
        #           # note: not enough data to make it possible to enable this
        #           # facet:
        #           #     sectionId: user_info
        #           #     id: gender
        #           bucketsFilter:
        #               in:
        #                   - shruti_kapoor
        #                   - afor_digital
        #                   - stephanie_walter
        #                   - self_teach_me
        #                   - black_girls_code
        #                   - diversify_tech
        #                   - codebar
        #                   - black_tech_pipeline
        #                   - referral_5n0w

- id: conclusion
  path: /conclusion
  blocks:
      - id: conclusion
        template: conclusion
        variables:
            author: paul_mcmahon
            entities: '"paul_mcmahon"'

      - id: conclusion_newsletter
        blockType: NewsletterBlock
        wrapBlock: false
        disableExport: true

      - id: survey_credits
        template: credits

- id: notfound
  titleId: notfound.title
  path: /404
  is_hidden: true
  blocks:
      - id: notfound
        blockType: NotFoundBlock
        wrapBlock: false
